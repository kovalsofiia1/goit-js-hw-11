{"version":3,"file":"commonHelpers.js","sources":["../src/img/bi_x-octagon.svg","../src/main.js"],"sourcesContent":["export default \"__VITE_ASSET__3108d0c6__\"","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iconUrl from './img/bi_x-octagon.svg';\n\nconst searchBtn = document.querySelector('.search-button');\nconst form = document.querySelector('.search-form');\nconst input = document.querySelector('.search-input');\nconst loader = document.querySelector('.loader-div');\n\n\nlet gallery = new SimpleLightbox('.gallery a', {\n  overlayOpacity: 0.1,\n  captionsData:'alt',\n});\n\n\nconst myParams = {\n    link:'https://pixabay.com/api/',\n    key: '41582613-5fd86df2fe5af6dc3c1a0bcd8',\n    type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n}\n\n\nconst getURL = ()=>{\n    const searched = input.value.trim().split(' ').join('+');\n    return `${myParams.link}?key=${myParams.key}&q=${searched}&image_type=${myParams.type}&orientation=${myParams.orientation}&safesearch=${myParams.safesearch}`;\n}\n\nconst hideLoader = () => {\n  loader.style.display = 'none';\n}\n\nconst showLoader = () => {\n   loader.style.display = 'flex';\n}\n\nform.addEventListener('submit', (event) => {\n  event.preventDefault();\n  clearGallery();\n  showLoader();\n    fetch(getURL())\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        })\n        .then(response => {\n            if (response.total === 0) {\n              showError('Sorry, there are no images matching your search query. Please try again!');\n              hideLoader();\n                return;\n            }\n          fillGallery(response.hits);\n        })\n        .catch(error => {\n          showError('Error! No connection with server!');\n          hideLoader();\n        })\n  clearSearch();\n})\n\nconst showError = (text) => {\n    iziToast.error({\n      message:text,\n      position: 'topRight',\n      backgroundColor: 'red',\n      messageColor:'white',\n      iconUrl: `${iconUrl}`,\n      iconColor: 'white',\n    })\n}\nconst clearGallery = () => {\n  const galleryList = document.querySelector('.gallery-list');\n  galleryList.innerHTML = '';\n}\n\nconst clearSearch = () => {\n  input.value = '';\n}\n\nconst fillGallery = (itemsList) => {\n  const galleryList = document.querySelector('.gallery-list');\n  clearGallery();\n    let content = '';\n\n  content = itemsList.reduce((content, item) => {\n    return content +\n      `<li class=\"card\">\n            <a href=\"${item.largeImageURL}\">\n          <img\n            src=\"${item.webformatURL}\"\n            alt=\"${item.tags}\"\n            class=\"image\"\n          />\n          </a>\n          <div class=\"description\">\n            <div class=\"desc-part\">\n              <span class=\"bold\">Likes</span><span>${item.likes}</span>\n            </div>\n            <div class=\"desc-part\">\n              <span class=\"bold\">Views</span><span>${item.views}</span>\n            </div>\n            <div class=\"desc-part\">\n              <span class=\"bold\">Comments</span><span>${item.comments}</span>\n            </div>\n            <div class=\"desc-part\">\n              <span class=\"bold\">Downloads</span><span>${item.downloads}</span>\n            </div>\n          </div>\n        </li>\n        `\n  }, '');\n\n  galleryList.innerHTML = content;\n  hideLoader();\n  gallery.refresh();\n}"],"names":["iconUrl","form","input","loader","gallery","SimpleLightbox","myParams","getURL","searched","hideLoader","showLoader","event","clearGallery","response","showError","fillGallery","error","clearSearch","text","iziToast","galleryList","itemsList","content","item"],"mappings":"6vBAAA,MAAeA,EAAA,kDCMG,SAAS,cAAc,gBAAgB,EACzD,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAQ,SAAS,cAAc,eAAe,EAC9CC,EAAS,SAAS,cAAc,aAAa,EAGnD,IAAIC,EAAU,IAAIC,EAAe,aAAc,CAC7C,eAAgB,GAChB,aAAa,KACf,CAAC,EAGD,MAAMC,EAAW,CACb,KAAK,2BACL,IAAK,qCACL,KAAM,QACN,YAAa,aACb,WAAY,MAChB,EAGMC,EAAS,IAAI,CACf,MAAMC,EAAWN,EAAM,MAAM,KAAI,EAAG,MAAM,GAAG,EAAE,KAAK,GAAG,EACvD,MAAO,GAAGI,EAAS,YAAYA,EAAS,SAASE,gBAAuBF,EAAS,oBAAoBA,EAAS,0BAA0BA,EAAS,YACrJ,EAEMG,EAAa,IAAM,CACvBN,EAAO,MAAM,QAAU,MACzB,EAEMO,EAAa,IAAM,CACtBP,EAAO,MAAM,QAAU,MAC1B,EAEAF,EAAK,iBAAiB,SAAWU,GAAU,CACzCA,EAAM,eAAc,EACpBC,IACAF,IACE,MAAMH,EAAM,CAAE,EACT,KAAKM,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,EACA,KAAKA,GAAY,CACd,GAAIA,EAAS,QAAU,EAAG,CACxBC,EAAU,0EAA0E,EACpFL,IACE,MACH,CACHM,EAAYF,EAAS,IAAI,CACnC,CAAS,EACA,MAAMG,GAAS,CACdF,EAAU,mCAAmC,EAC7CL,GACV,CAAS,EACPQ,GACF,CAAC,EAED,MAAMH,EAAaI,GAAS,CACxBC,EAAS,MAAM,CACb,QAAQD,EACR,SAAU,WACV,gBAAiB,MACjB,aAAa,QACb,QAAS,GAAGlB,IACZ,UAAW,OACjB,CAAK,CACL,EACMY,EAAe,IAAM,CACzB,MAAMQ,EAAc,SAAS,cAAc,eAAe,EAC1DA,EAAY,UAAY,EAC1B,EAEMH,EAAc,IAAM,CACxBf,EAAM,MAAQ,EAChB,EAEMa,EAAeM,GAAc,CACjC,MAAMD,EAAc,SAAS,cAAc,eAAe,EAC1DR,IACE,IAAIU,EAAU,GAEhBA,EAAUD,EAAU,OAAO,CAACC,EAASC,IAC5BD,EACL;AAAA,uBACiBC,EAAK;AAAA;AAAA,mBAETA,EAAK;AAAA,mBACLA,EAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qDAM6BA,EAAK;AAAA;AAAA;AAAA,qDAGLA,EAAK;AAAA;AAAA;AAAA,wDAGFA,EAAK;AAAA;AAAA;AAAA,yDAGJA,EAAK;AAAA;AAAA;AAAA;AAAA,UAKzD,EAAE,EAELH,EAAY,UAAYE,EACxBb,IACAL,EAAQ,QAAO,CACjB"}